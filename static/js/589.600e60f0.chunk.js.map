{"version":3,"file":"static/js/589.600e60f0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","webpack://react-homework-template/./src/components/pages/Movie.module.css?69ae","components/pages/Movies.jsx","services/getTrendingMovies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MovieIMG\":\"MovieItem_MovieIMG__Fudsl\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport css from './MovieItem.module.css'\n\nconst baseImageUrl = 'https://image.tmdb.org/t/p/w300';\n\nconst MovieItem = ({ id, title, location, poster_path }) => {\n  return (\n    <li className={css.MovieItem}>\n      <Link state={{ from: location }} to={`/movies/${id}`}>\n        <img className={css.MovieIMG} src={`${baseImageUrl}${poster_path}`} alt={title} />\n        \n      </Link>\n    </li>\n  );\n};\n\nexport default MovieItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"MovieList\":\"Movie_MovieList__DYNt7\",\"SearchInput\":\"Movie_SearchInput__jlwxB\",\"SearchForm\":\"Movie_SearchForm__HTlBC\",\"SearchButton\":\"Movie_SearchButton__FG0HM\"};","import MovieItem from 'components/MovieItem/MovieItem';\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { getMovieSearch } from 'services/getTrendingMovies';\nimport css from './Movie.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const [MovieSearch, setMovieSearch] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\n    'Something went wrong! Try again later'\n  );\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n    async function fetchMovieSearch() {\n      try {\n        setIsLoading(true);\n        const mSearch = await getMovieSearch(query);\n        \n        setMovieSearch(mSearch);\n      } catch (error) {\n        setError(true);\n        setErrorMessage(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchMovieSearch();\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const searchValue = e.currentTarget.elements.searchMovie.value;\n    setSearchParams({ query: searchValue });\n  };\n  return (\n    <>\n      <form className={css.SearchForm} onSubmit={handleSubmit}>\n        <label>\n          <input\n            className={css.SearchInput}\n            name=\"searchMovie\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies...\"\n            required\n          />\n        </label>\n        <button className={css.SearchButton} type=\"submit\">\n          Search\n        </button>\n      </form>\n      <section>\n        {error && (\n          <div>\n            <p>{errorMessage}</p>\n          </div>\n        )}\n        {isLoading && (\n          <div>\n            <p>Loading...</p>\n          </div>\n        )}\n        <ul className={css.MovieList}>\n          {MovieSearch !== 0 &&\n            MovieSearch.map(movie => {\n              return (\n                <MovieItem\n                  key={movie.id}\n                  title={movie.title}\n                  id={movie.id}\n                  location={location}\n                  poster_path={movie.poster_path}\n                />\n              );\n            })}\n        </ul>\n      </section>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nconst token =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMzBkM2RjMGNmMjJjMDliNGI5NDNmNjgwM2ZmZjczMCIsInN1YiI6IjY1MjMwN2RjYWI1ZTM0MDBmZTMyYzlmMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.b0SYdjTLCVBaZ4ILSq2IP-U1xZgGEb11pX7z428YP2w';\n\nconst authAxios = axios.create({\n  headers: {\n    Authorization: `Bearer ${token}`,\n  },\n});\n\nexport const getTrendingMovies = async () => {\n  const { data } = await authAxios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US'\n  );\n  \n  return data;\n};\n\nexport const getMovie = async movieId => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}`\n  );\n\n  return data;\n};\n\nexport const getCast = async movieId => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits`\n  );\n  console.log(data);\n  return data.cast;\n};\n\nexport const getReview = async movieId => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews`\n  );\n\n  return data.results;\n};\n\nexport const getMovieSearch = async movieName => {\n  const { data } = await authAxios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${movieName}`\n  );\n\n  return data.results;\n};\n"],"names":["id","title","location","poster_path","className","css","state","from","to","src","alt","useSearchParams","searchParams","setSearchParams","useLocation","useState","MovieSearch","setMovieSearch","isLoading","setIsLoading","error","setError","errorMessage","setErrorMessage","query","get","useEffect","getMovieSearch","mSearch","message","fetchMovieSearch","onSubmit","e","preventDefault","searchValue","currentTarget","elements","searchMovie","value","name","type","autoComplete","autoFocus","placeholder","required","map","movie","MovieItem","authAxios","axios","headers","Authorization","getTrendingMovies","data","getMovie","movieId","getCast","console","log","cast","getReview","results","movieName"],"sourceRoot":""}